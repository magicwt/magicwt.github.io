<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="magicwt的博客">
<meta property="og:url" content="http://yoursite.com/page/7/index.html">
<meta property="og:site_name" content="magicwt的博客">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="magicwt的博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/7/">





  <title>magicwt的博客</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">magicwt的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2012/07/27/myeclipse-e4-b8-8bspringhibernate-e6-95-b4-e5-90-88/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="magicwt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="magicwt的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2012/07/27/myeclipse-e4-b8-8bspringhibernate-e6-95-b4-e5-90-88/" itemprop="url">MyEclipse下Spring+Hibernate整合</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2012-07-27T09:37:59+08:00">
                2012-07-27
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>目前，SSH（Struts+Spring+Hibernate）是Web开发的一种常用框架组合，Struts实现了MVC，Hibernate实现了关系对象映射，Spring实现了基于Bean的配置管理。本文使用 MyEclipse实现Spring+Hibernate的整合。<br>软件和框架使用版本：<br>MyEclipse：8.0<br>Spring：2.5<br>Hibernate：3.2<br>MySQL：5.1</p>
<h2 id="1-创建数据库连接"><a href="#1-创建数据库连接" class="headerlink" title="1.创建数据库连接"></a>1.创建数据库连接</h2><p>1）首先在MyEclipse下切换Perspective至MyEclipse Database Explorer，在左侧DB Browser中右键点击，在对话框中选择“New”，创建数据库连接MySQL。数据库连接的配置如图1所示，需要填写URL、用户名、密码、驱动等信息。</p>
<p><a href="http://magicwt.com/wp-content/uploads/2015/11/1.png" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/1-237x300.png" alt="1"></a><br>图 1</p>
<p>2）数据库连接配置成功后，左侧DB Browser中会显示该连接，右键点击该连接，在对话框中选择“Open connection”，显示数据库中的详细信息，如图2所示。在数据库中已有一user表，在下面将使用Spring+Hibernate实现对该表的操作。</p>
<p><a href="http://magicwt.com/wp-content/uploads/2015/11/2.png" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/2-300x163.png" alt="2"></a><br>图 2</p>
<h2 id="2-新建Web工程，并配置Spring"><a href="#2-新建Web工程，并配置Spring" class="headerlink" title="2.新建Web工程，并配置Spring"></a>2.新建Web工程，并配置Spring</h2><p>1）切换Perspective至MyEclipse Java Enterprise，新建Web工程ssh，如图3所示。如果在随后的工作中还需整合Struts 2，则J2EE Specification Level应选择Java EE 5.0，此处暂选用默认配置J2EE 1.4。</p>
<p><a href="http://magicwt.com/wp-content/uploads/2015/11/3.png" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/3-297x300.png" alt="3"></a><br>图 3</p>
<p>2）右键点击该工程，在对话框中选择“MyEclipse-&gt;Add Spring Capabilities…”，添加Spring，并进行相关配置，如图4所示，采用默认配置即可。</p>
<p><a href="http://magicwt.com/wp-content/uploads/2015/11/4.png" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/4-300x171.png" alt="4"></a><br>图 4</p>
<h2 id="3-配置Hibernate"><a href="#3-配置Hibernate" class="headerlink" title="3.配置Hibernate"></a>3.配置Hibernate</h2><p>1）右键点击该工程，在对话框中选择“MyEclipse-&gt;Add Hibernate Capabilities…”，添加Hibernate，并进行相关配置，如图5、图6、图7、图8、图9所示。<br>由于需要使用Spring配置Hibernate，因此选中所有的Library。</p>
<p><a href="http://magicwt.com/wp-content/uploads/2015/11/5.png" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/5-261x300.png" alt="5"></a><br>图 5</p>
<p>选择Spring的配置文件applicationContext.xml进行配置。</p>
<p><a href="http://magicwt.com/wp-content/uploads/2015/11/6.png" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/6-261x300.png" alt="6"></a><br>图 6</p>
<p>选择已有的Spring配置文件，并使用Spring配置Hibernate中的SessionFactory，SessionFactory的bean id为sessionFactory。</p>
<p><a href="http://magicwt.com/wp-content/uploads/2015/11/7.png" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/7-300x295.png" alt="7"></a><br>图 7</p>
<p>配置数据源DataSource的bean id为dataSource，且其配置信息采用数据库连接MySQL。</p>
<p><a href="http://magicwt.com/wp-content/uploads/2015/11/8.png" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/8-300x295.png" alt="8"></a><br>图 8</p>
<p>不另写SessionFactory类，而采用Spring为Hibernate已设计的SessionFactory类。</p>
<p><a href="http://magicwt.com/wp-content/uploads/2015/11/9.png" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/9-300x295.png" alt="9"></a><br>图 9</p>
<h2 id="4-数据库逆向工程"><a href="#4-数据库逆向工程" class="headerlink" title="4.数据库逆向工程"></a>4.数据库逆向工程</h2><p>1）切换Perspective至MyEclipse Hibernate，右键点击数据表user，在对话框中选择“Hibernate Reverse Engineering…”，对user表的关系对象映射进行配置，如图10所示，其中第一个红框用于选择Java源文件目录，第二个红框用于选择是否创建关系对象映射文件，以hbm.xml结尾，第三个红框用于选择是否创建数据对象类，第四个红框用于选择是否创建数据访问对象类，均选择是，其他采用默认配置即可。</p>
<p><a href="http://magicwt.com/wp-content/uploads/2015/11/10.png" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/10-267x300.png" alt="10"></a><br>图 10</p>
<h2 id="5-分析和测试"><a href="#5-分析和测试" class="headerlink" title="5.分析和测试"></a>5.分析和测试</h2><p>按上述步骤配置后就可以在工程中实现Spring和Hibernate的整合，以及user表的关系对象映射，工程目录如图11所示，其中src目录下的applicationContext.xml是Spring和Hibernate的核心配置文件，pojo包中的三个文件是与user表对应的数据对象类User.java、数据访问对象类UserDAO.java、关系对象映射文件User.hbm.xml。</p>
<p><a href="http://magicwt.com/wp-content/uploads/2015/11/11.png" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/11-300x269.png" alt="11"></a><br>图 11</p>
<p>applicationContext.xml内容如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; </span><br><span class="line">&lt;beans </span><br><span class="line">    xmlns=&quot;http://www.springframework.org/schema/beans&quot; </span><br><span class="line">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; </span><br><span class="line">    xmlns:p=&quot;http://www.springframework.org/schema/p&quot; </span><br><span class="line">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot;&gt; </span><br><span class="line"></span><br><span class="line">    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt; </span><br><span class="line">        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt; </span><br><span class="line">        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/web&quot;&gt;&lt;/property&gt; </span><br><span class="line">        &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt; </span><br><span class="line">        &lt;property name=&quot;password&quot; value=&quot;root&quot;&gt;&lt;/property&gt; </span><br><span class="line">    &lt;/bean&gt; </span><br><span class="line">    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt; </span><br><span class="line">        &lt;property name=&quot;dataSource&quot;&gt; </span><br><span class="line">            &lt;ref bean=&quot;dataSource&quot; /&gt; </span><br><span class="line">        &lt;/property&gt; </span><br><span class="line">        &lt;property name=&quot;hibernateProperties&quot;&gt; </span><br><span class="line">            &lt;props&gt; </span><br><span class="line">                &lt;prop key=&quot;hibernate.dialect&quot;&gt; </span><br><span class="line">                    org.hibernate.dialect.MySQLDialect  </span><br><span class="line">                &lt;/prop&gt; </span><br><span class="line">            &lt;/props&gt; </span><br><span class="line">        &lt;/property&gt; </span><br><span class="line">        &lt;property name=&quot;mappingResources&quot;&gt; </span><br><span class="line">            &lt;list&gt; </span><br><span class="line">                &lt;value&gt;pojo/User.hbm.xml&lt;/value&gt;</span><br><span class="line">            &lt;/list&gt; </span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">    &lt;bean id=&quot;UserDAO&quot; class=&quot;pojo.UserDAO&quot;&gt; </span><br><span class="line">        &lt;property name=&quot;sessionFactory&quot;&gt; </span><br><span class="line">            &lt;ref bean=&quot;sessionFactory&quot; /&gt; </span><br><span class="line">        &lt;/property&gt; </span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></p>
<p>其中，bean dataSource实现数据库连接配置，bean sessionFactory实现Hibernate的SessionFactory，并使用bean dataSource的连接配置，bean UserDAO实现User数据对象访问，并使用bean sessionFactory创建会话。<br>User.java代码部分如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public class User implements java.io.Serializable &#123;  </span><br><span class="line"></span><br><span class="line">    // Fields  </span><br><span class="line"></span><br><span class="line">    private Integer id;  </span><br><span class="line">    private String password;  </span><br><span class="line">    private String name;  </span><br><span class="line">    private String school;  </span><br><span class="line"></span><br><span class="line">    // Constructors  </span><br><span class="line"></span><br><span class="line">    /** default constructor */ </span><br><span class="line">    public User() &#123;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    /** full constructor */ </span><br><span class="line">    public User(String password, String name, String school) &#123;  </span><br><span class="line">        this.password = password;  </span><br><span class="line">        this.name = name;  </span><br><span class="line">        this.school = school;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    // Property accessors</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>其中，对User对象类进行了定义，包括与user表字段对应的属性值、构造函数、Get/Set函数等。<br>UserDAO.java代码部分如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public class UserDAO extends HibernateDaoSupport &#123;  </span><br><span class="line">    private static final Log log = LogFactory.getLog(UserDAO.class);  </span><br><span class="line">    // property constants  </span><br><span class="line">    public static final String PASSWORD = &quot;password&quot;;  </span><br><span class="line">    public static final String NAME = &quot;name&quot;;  </span><br><span class="line">    public static final String SCHOOL = &quot;school&quot;;  </span><br><span class="line"></span><br><span class="line">    protected void initDao() &#123;  </span><br><span class="line">        // do nothing  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    public void save(User transientInstance) &#123;  </span><br><span class="line">        log.debug(&quot;saving User instance&quot;);  </span><br><span class="line">        try &#123;  </span><br><span class="line">            getHibernateTemplate().save(transientInstance);  </span><br><span class="line">            log.debug(&quot;save successful&quot;);  </span><br><span class="line">        &#125; catch (RuntimeException re) &#123;  </span><br><span class="line">            log.error(&quot;save failed&quot;, re);  </span><br><span class="line">            throw re;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>该类继承了Spring的HibernateDaoSupport类，调用对象实例本身的getHibernateTemplate获取HibernateTemplate对象，进而调用其save、delete等方法实现数据的增加、删改等操作。<br>User.hbm.xml内容如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; </span><br><span class="line">&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;  </span><br><span class="line">&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt; </span><br><span class="line">&lt;!--   </span><br><span class="line">    Mapping file autogenerated by MyEclipse Persistence Tools  </span><br><span class="line">--&gt; </span><br><span class="line">&lt;hibernate-mapping&gt; </span><br><span class="line">    &lt;class name=&quot;pojo.User&quot; table=&quot;user&quot; catalog=&quot;web&quot;&gt; </span><br><span class="line">        &lt;id name=&quot;id&quot; type=&quot;java.lang.Integer&quot;&gt; </span><br><span class="line">            &lt;column name=&quot;id&quot; /&gt; </span><br><span class="line">            &lt;generator class=&quot;identity&quot; /&gt; </span><br><span class="line">        &lt;/id&gt; </span><br><span class="line">        &lt;property name=&quot;password&quot; type=&quot;java.lang.String&quot;&gt; </span><br><span class="line">            &lt;column name=&quot;password&quot; length=&quot;10&quot; not-null=&quot;true&quot; /&gt; </span><br><span class="line">        &lt;/property&gt; </span><br><span class="line">        &lt;property name=&quot;name&quot; type=&quot;java.lang.String&quot;&gt; </span><br><span class="line">            &lt;column name=&quot;name&quot; length=&quot;10&quot; not-null=&quot;true&quot; /&gt; </span><br><span class="line">        &lt;/property&gt; </span><br><span class="line">        &lt;property name=&quot;school&quot; type=&quot;java.lang.String&quot;&gt; </span><br><span class="line">            &lt;column name=&quot;school&quot; length=&quot;30&quot; not-null=&quot;true&quot; /&gt; </span><br><span class="line">        &lt;/property&gt; </span><br><span class="line">    &lt;/class&gt; </span><br><span class="line">&lt;/hibernate-mapping&gt;</span><br></pre></td></tr></table></figure></p>
<p>其中定义了user表和User类的关系对象映射。<br>在UserDAO中编写一个主函数实现向user表中写入数据，如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public static void main(String args[])  </span><br><span class="line">&#123;  </span><br><span class="line">    //从src/applicationContext.xml装载BeanFactory  </span><br><span class="line">    Resource res =new FileSystemResource(&quot;src/applicationContext.xml&quot;);       </span><br><span class="line">    BeanFactory factory = new XmlBeanFactory(res);  </span><br><span class="line">    //从BeanFactory获取UserDAO  </span><br><span class="line">    UserDAO userDAO = (UserDAO) factory.getBean(&quot;UserDAO&quot;);  </span><br><span class="line">    //添加新User  </span><br><span class="line">    User user = new User(&quot;123&quot;,&quot;Tom&quot;,&quot;Tsinghua&quot;);  </span><br><span class="line">    userDAO.save(user);       </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>执行后，查看user表，如果该表已新增一条记录，说明配置成功。</p>
<p><a href="http://magicwt.com/wp-content/uploads/2015/11/12.png" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/12.png" alt="12"></a><br>图 12</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2012/07/21/e6-b5-85-e8-b0-88java-e5-a4-9a-e7-ba-bf-e7-a8-8b-ef-bc-88-e4-ba-8c-ef-bc-89/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="magicwt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="magicwt的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2012/07/21/e6-b5-85-e8-b0-88java-e5-a4-9a-e7-ba-bf-e7-a8-8b-ef-bc-88-e4-ba-8c-ef-bc-89/" itemprop="url">浅谈Java多线程（二）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2012-07-21T15:32:36+08:00">
                2012-07-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="线程的协调"><a href="#线程的协调" class="headerlink" title="线程的协调"></a>线程的协调</h2><p>在Java多线程中，对于线程之间共享的实例资源，可以通过synchronized修饰符修饰其方法，实现线程之间的同步。另外，在多线程设计中，还需考虑到线程之间的协调。关于协调的一个典型设计模式便是Producer-Consumer（生产者-消费者）模式。</p>
<h2 id="Producer-Consumer（生产者-消费者）模式"><a href="#Producer-Consumer（生产者-消费者）模式" class="headerlink" title="Producer-Consumer（生产者-消费者）模式"></a>Producer-Consumer（生产者-消费者）模式</h2><p>在这一模式中，存在Producer和Consumer两类线程，Producer线程用于生成Data（共享数据资源），而Consumer线程用于消费Data，在Producer和Consumer之间，存在对于Data生成和消费的协调，即当不存在Data时，Consumer线程需要等待Producer线程生成新的Data，而当Data过多时，Producer线程需要等待Consumer线程消费过多的Data。在Producer-Consumer模式中，引入了Channel（管道）类，负责Data在各线程之间的协调。Producer-Consumer模式的UML类图如下所示。<br><a href="http://magicwt.com/wp-content/uploads/2015/11/152350862.jpg" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/152350862-300x188.jpg" alt="152350862"></a><br>在上图中，Producer线程类和Consumer线程类均包含对Channel类对象的引用，而Channel类对象封装了Data类，并分别实现了生产和消费Data的同步方法produce和consume。在produce和consume方法中，通过使用wait和notifyAll方法进一步实现Data的协调。</p>
<h2 id="wait、notify、notifyAll"><a href="#wait、notify、notifyAll" class="headerlink" title="wait、notify、notifyAll"></a>wait、notify、notifyAll</h2><p>在Java中，wait、notify、notifyAll是Object类的方法，用于实现对调用对象方法的线程的暂停和唤醒。wait用于暂停线程，将其放入对象的wait set（线程等待集合），而notify、notifyAll方法用于唤醒wait set中的线程，使其继续执行。notify和notifyAll的不同是，当wait set中存在多个线程时，notify只会从中随机唤醒一个线程，而notifyAll会从中唤醒所有线程，由其进行竞争，获得同步锁并继续执行。<br>一个关于wait、notify、notifyAll使用的简单示例如图所示。<br><a href="http://magicwt.com/wp-content/uploads/2015/11/152640939.jpg" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/152640939-300x181.jpg" alt="152640939"></a></p>
<h2 id="Producer-Consumer（生产者-消费者）模式的实现示例"><a href="#Producer-Consumer（生产者-消费者）模式的实现示例" class="headerlink" title="Producer-Consumer（生产者-消费者）模式的实现示例"></a>Producer-Consumer（生产者-消费者）模式的实现示例</h2><p>Producer和Consumer线程类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">package com.wt.pc;  </span><br><span class="line"></span><br><span class="line">public class Producer extends Thread&#123;  </span><br><span class="line"></span><br><span class="line">    //对Channel对象的引用  </span><br><span class="line">    Channel channel = null;  </span><br><span class="line"></span><br><span class="line">    //Consumer类构造函数  </span><br><span class="line">    public Producer(String producerName,Channel channel)  </span><br><span class="line">    &#123;  </span><br><span class="line">        super(producerName);  </span><br><span class="line">        this.channel = channel;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    //Producer线程每隔500ms尝试生成新的data  </span><br><span class="line">    public void run()  </span><br><span class="line">    &#123;  </span><br><span class="line">        try&#123;  </span><br><span class="line">            while(true)  </span><br><span class="line">            &#123;  </span><br><span class="line">                channel.produce(Integer.toString(Channel.dataId++));  </span><br><span class="line">                Thread.sleep(500);  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;catch(Exception e)&#123;&#125;  </span><br><span class="line"></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">package com.wt.pc;  </span><br><span class="line"></span><br><span class="line">public class Consumer extends Thread&#123;  </span><br><span class="line"></span><br><span class="line">    //对Channel对象的引用  </span><br><span class="line">    Channel channel = null;  </span><br><span class="line"></span><br><span class="line">    //Consumer类构造函数  </span><br><span class="line">    public Consumer(String consumerName,Channel channel)  </span><br><span class="line">    &#123;  </span><br><span class="line">        super(consumerName);  </span><br><span class="line">        this.channel = channel;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    //Consumer线程每隔500ms尝试消费data  </span><br><span class="line">    public void run()  </span><br><span class="line">    &#123;  </span><br><span class="line">        try&#123;  </span><br><span class="line">            while(true)  </span><br><span class="line">            &#123;  </span><br><span class="line">                channel.consume();  </span><br><span class="line">                Thread.sleep(500);  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;catch(Exception e)&#123;&#125;  </span><br><span class="line"></span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Channel和Data类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">package com.wt.pc;  </span><br><span class="line"></span><br><span class="line">public class Channel &#123;  </span><br><span class="line">    //静态变量，用于生成data名称  </span><br><span class="line">    static int dataId = 0;  </span><br><span class="line"></span><br><span class="line">    //存储data的数组  </span><br><span class="line">    Data dataList[];  </span><br><span class="line">    //当前未消费data的头序号  </span><br><span class="line">    int head;  </span><br><span class="line">    //当前未消费data的尾序号的下一个  </span><br><span class="line">    int tail;  </span><br><span class="line">    //当前未消费data的数目  </span><br><span class="line">    int count;  </span><br><span class="line"></span><br><span class="line">    //Channel类构造函数  </span><br><span class="line">    //数组容量为3，其他值初始化为0  </span><br><span class="line">    public Channel()  </span><br><span class="line">    &#123;  </span><br><span class="line">        dataList = new Data[3];  </span><br><span class="line">        head = 0;  </span><br><span class="line">        tail = 0;  </span><br><span class="line">        count = 0;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    //produce方法，用于生成data  </span><br><span class="line">    public synchronized void produce(String dataName)throws Exception&#123;  </span><br><span class="line">        //当数组容量已满时，即不能再生成新data时，当前线程进入wait set  </span><br><span class="line">        while (count&gt;=3)  </span><br><span class="line">        &#123;  </span><br><span class="line">            wait();  </span><br><span class="line">        &#125;  </span><br><span class="line">        //生成新的data  </span><br><span class="line">        System.out.println(Thread.currentThread().getName()+&quot; is producing &quot;+dataName);  </span><br><span class="line">        dataList[tail] = new Data();  </span><br><span class="line">        dataList[tail].setDataName(dataName);  </span><br><span class="line">        tail = (tail+1)%3;  </span><br><span class="line">        count++;  </span><br><span class="line">        Thread.sleep(400);  </span><br><span class="line">        //唤醒wait set中的线程  </span><br><span class="line">        notifyAll();  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    //consume方法，用于消费data  </span><br><span class="line">    public synchronized void consume()throws Exception&#123;  </span><br><span class="line">        //当数组容量为空时，即不能再消费data时，当前线程进入wait set  </span><br><span class="line">        while (count&lt;=0)  </span><br><span class="line">        &#123;  </span><br><span class="line">            wait();  </span><br><span class="line">        &#125;  </span><br><span class="line">        //消费data  </span><br><span class="line">        System.out.println(Thread.currentThread().getName()+&quot; is consuming &quot;+dataList[head].getDataName());  </span><br><span class="line">        head = (head+1)%3;  </span><br><span class="line">        count--;  </span><br><span class="line">        Thread.sleep(300);  </span><br><span class="line">        //唤醒wait set中的线程  </span><br><span class="line">        notifyAll();          </span><br><span class="line">    &#125;     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">package com.wt.pc;  </span><br><span class="line">public class Data &#123;  </span><br><span class="line">    String dataName;  </span><br><span class="line"></span><br><span class="line">    public String getDataName() &#123;  </span><br><span class="line">        return dataName;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    public void setDataName(String dataName) &#123;  </span><br><span class="line">        this.dataName = dataName;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>主函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public static void main(String args[])  </span><br><span class="line">&#123;  </span><br><span class="line">    Channel channel = new Channel();  </span><br><span class="line">    new Producer(&quot;p1&quot;,channel).start();  </span><br><span class="line">    new Producer(&quot;p2&quot;,channel).start();  </span><br><span class="line">    new Producer(&quot;p3&quot;,channel).start();  </span><br><span class="line">    new Consumer(&quot;c1&quot;,channel).start();  </span><br><span class="line">    new Consumer(&quot;c2&quot;,channel).start();  </span><br><span class="line">    new Consumer(&quot;c3&quot;,channel).start();  </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果<br>[blockquote]p2 is producing 0<br>c2 is consuming 0<br>p3 is producing 2<br>p1 is producing 1<br>c3 is consuming 2<br>c1 is consuming 1<br>p1 is producing 5<br>p3 is producing 4<br>c2 is consuming 5<br>p2 is producing 3<br>p3 is producing 7<br>c1 is consuming 4<br>c3 is consuming 3<br>p3 is producing 9<br>p1 is producing 6<br>c2 is consuming 7<br>p2 is producing 8<br>c3 is consuming 9<br>c1 is consuming 6<br>p2 is producing 12<br>p3 is producing 10<br>c2 is consuming 8<br>……[/blockquote]<br>从执行结果中可以看出，生成Data线程的执行次数p和消费Data线程的执行次数c始终满足：<br>[blockquote]p&gt;=c且p&lt;=c+3[/blockquote]<br>即保证Data数组在消费时存在Data但也不超过数组容量，从而有效实现Producer和Consumer线程类关于Data的协调。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>在Java多线程设计中，需要充分考虑线程之间的同步和协调。针对不同的应用场景，可以采用不同的设计模式，已有的设计模式有Single Threaded Execution、Immutable、Guarded Suspension、Balking、Producer-Consumer、Read-Write Lock、Thread-Per-Message、Worker Thread等，具体可进一步参考网上有关“Java多线程设计模式”的教程。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2012/07/18/e6-b5-85-e8-b0-88java-e5-a4-9a-e7-ba-bf-e7-a8-8b-ef-bc-88-e4-b8-80-ef-bc-89/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="magicwt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="magicwt的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2012/07/18/e6-b5-85-e8-b0-88java-e5-a4-9a-e7-ba-bf-e7-a8-8b-ef-bc-88-e4-b8-80-ef-bc-89/" itemprop="url">浅谈Java多线程（一）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2012-07-18T16:52:46+08:00">
                2012-07-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Java支持多线程，可以通过继续Thread类或实现Runnable接口定义线程类，并在该类中重写run方法。<br>一个简单的Java线程类MyThread如下所示。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">package com.wt.testThread;  </span><br><span class="line"></span><br><span class="line">public class MyThread extends Thread&#123;  </span><br><span class="line">    public void run()  </span><br><span class="line">    &#123;  </span><br><span class="line">        int i = 0;  </span><br><span class="line">        while (true)  </span><br><span class="line">        &#123;  </span><br><span class="line">            i++;  </span><br><span class="line">            System.out.println(&quot;MyThread Processing --&gt; &quot;+i);  </span><br><span class="line">            try &#123;  </span><br><span class="line">                Thread.sleep(500);  </span><br><span class="line">            &#125; catch (InterruptedException e) &#123;&#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    public static void main(String args[])  </span><br><span class="line">    &#123;  </span><br><span class="line">        MyThread thread = new MyThread();  </span><br><span class="line">        thread.start();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在MyThread的run方法中，每隔500ms（Thread.sleep(500);）输出一次信息。在主函数中，新建MyThread实例对象，并使用对象的start方法启动该线程实例。程序输出结果部分如下所示。<br>[blockquote]MyThread Processing –&gt; 1<br>MyThread Processing –&gt; 2<br>MyThread Processing –&gt; 3[/blockquote]</p>
<h2 id="多线程的同步"><a href="#多线程的同步" class="headerlink" title="多线程的同步"></a>多线程的同步</h2><p>假设现在有两件工具，三个工人，每个工人工作时需要同时使用这两件工具。使用Java多线程模拟上述情景，使用线程类WorkThread表示工人，使用ToolBox表示两件工具所在的工具箱，如下所示。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class ToolBox&#123;  </span><br><span class="line">    //t1Owner,t2Owner分别表示正在使用该工具的工人名  </span><br><span class="line">    private String t1Owner;  </span><br><span class="line">    private String t2Owner;  </span><br><span class="line"></span><br><span class="line">    //useTool表示某位工人取得工具并使用  </span><br><span class="line">    public void useTool(String workerName) throws InterruptedException  </span><br><span class="line">    &#123;  </span><br><span class="line">        t1Owner = workerName;  </span><br><span class="line">        Thread.sleep(100);  </span><br><span class="line">        t2Owner = workerName;  </span><br><span class="line">        Thread.sleep(100);        </span><br><span class="line">        checkTool();  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    //useTool检查工具是否正在被同一个工人使用  </span><br><span class="line">    public void checkTool()  </span><br><span class="line">    &#123;  </span><br><span class="line">        if (!t1Owner.equals(t2Owner))&#123;  </span><br><span class="line">            System.out.println(&quot;*Wrong*： Tool1:&quot;+t1Owner+&quot;\t Tool2:&quot;+t2Owner);  </span><br><span class="line">        &#125;  </span><br><span class="line">        else&#123;  </span><br><span class="line">            System.out.println(&quot;*Right*: Tool1:&quot;+t1Owner+&quot;\t Tool2:&quot;+t2Owner);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line">public class WorkerThread extends Thread&#123;  </span><br><span class="line">    private ToolBox toolBox;  </span><br><span class="line">    private String workerName;  </span><br><span class="line"></span><br><span class="line">    public WorkerThread(String workerName,ToolBox toolBox)  </span><br><span class="line">    &#123;  </span><br><span class="line">        super();  </span><br><span class="line">        this.workerName = workerName;  </span><br><span class="line">        this.toolBox = toolBox;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    public void run()  </span><br><span class="line">    &#123;  </span><br><span class="line">        //工人每次休息1秒，然后使用工具工作  </span><br><span class="line">        while(true)  </span><br><span class="line">        &#123;  </span><br><span class="line">            try &#123;  </span><br><span class="line">                Thread.sleep(1000);  </span><br><span class="line">                toolBox.useTool(workerName);  </span><br><span class="line">            &#125; catch (InterruptedException e) &#123;&#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>主函数如下所示，其中ToolBox类实例toolBox表示工人共用的工具箱，通过WorkerThread类的构造函数构造三个工人线程类，并传入工人姓名和toolBox，启动线程。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public static void main(String args[])</span><br><span class="line">&#123;</span><br><span class="line">    //工人共用的工具箱</span><br><span class="line">    ToolBox toolBox = new ToolBox();</span><br><span class="line">    //三个工人开始工作</span><br><span class="line">    new WorkerThread(&quot;Tom&quot;,toolBox).start();</span><br><span class="line">    new WorkerThread(&quot;Jack&quot;,toolBox).start();</span><br><span class="line">    new WorkerThread(&quot;Bob&quot;,toolBox).start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>执行结果部分如下所示。<br>[blockquote]<em>Right</em>: Tool1:Bob Tool2:Bob<br><em>Right</em>: Tool1:Bob Tool2:Bob<br><span style="color: #ff0000;"><em>Wrong</em>: Tool1:Bob Tool2:Jack</span><br><span style="color: #ff0000;"> <em>Wrong</em>: Tool1:Bob Tool2:Jack</span><br><span style="color: #ff0000;"> <em>Wrong</em>: Tool1:Bob Tool2:Jack</span><br><em>Right</em>: Tool1:Jack Tool2:Jack<br><em>Right</em>: Tool1:Jack Tool2:Jack<br><em>Right</em>: Tool1:Jack Tool2:Jack<br><span style="color: #ff0000;"><em>Wrong</em>: Tool1:Jack Tool2:Tom</span><br><span style="color: #ff0000;"> <em>Wrong</em>: Tool1:Jack Tool2:Tom</span><br><span style="color: #ff0000;"> <em>Wrong</em>: Tool1:Jack Tool2:Tom</span><br><em>Right</em>: Tool1:Tom Tool2:Tom[/blockquote]<br>可以看出，由于三个工人线程类共享使用工具箱中的工具，导致存在对于工具使用的竞争。由于ToolBox中useTool方法的代码（即工人使用工具）存在上述多线程之间的资源竞争，因此将其称为临界区（Critical Section）。临界区如下所示。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">t1Owner = workerName;  </span><br><span class="line">Thread.sleep(100);  </span><br><span class="line">t2Owner = workerName;  </span><br><span class="line">Thread.sleep(100);  </span><br><span class="line">checkTool();</span><br><span class="line">``` </span><br><span class="line">对于上述临界区中的代码，需要实现同步，即在一个线程中，要么都执行，要么都不执行。在Java中，可以使用关键字synchronized实现同步。synchronized的使用方法有两种：</span><br><span class="line">1）对于需要同步的共享实例对象，将synchronized添加为方法的修饰符，如下所示。</span><br></pre></td></tr></table></figure></p>
<p>public synchronized void useTool(String workerName) throws InterruptedException<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2）将需要同步的临界区代码放入synchronized(this)&#123;&#125;中，如下所示。</span><br></pre></td></tr></table></figure></p>
<p>synchronized(this)<br>{<br>    t1Owner = workerName;<br>    Thread.sleep(100);<br>    t2Owner = workerName;<br>    Thread.sleep(100);<br>    checkTool();<br>}<br><code>`</code><br>使用synchronized同步后，重新执行原主函数，得到正确执行结果。<br>[blockquote]<em>Right</em>: Tool1:Tom   Tool2:Tom<br><em>Right</em>: Tool1:Bob   Tool2:Bob<br><em>Right</em>: Tool1:Jack Tool2:Jack<br><em>Right</em>: Tool1:Tom   Tool2:Tom<br><em>Right</em>: Tool1:Bob   Tool2:Bob<br><em>Right</em>: Tool1:Jack Tool2:Jack<br><em>Right</em>: Tool1:Tom   Tool2:Tom<br><em>Right</em>: Tool1:Bob   Tool2:Bob<br><em>Right</em>: Tool1:Jack Tool2:Jack<br><em>Right</em>: Tool1:Tom   Tool2:Tom<br><em>Right</em>: Tool1:Bob   Tool2:Bob<br><em>Right</em>: Tool1:Jack Tool2:Jack<br><em>Right</em>: Tool1:Tom   Tool2:Tom<br><em>Right</em>: Tool1:Bob   Tool2:Bob<br><em>Right</em>: Tool1:Jack Tool2:Jack<br><em>Right</em>: Tool1:Tom   Tool2:Tom[/blockquote]</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2012/07/15/java-e7-9a-84-e7-b1-bb-e5-8a-a0-e8-bd-bd-e6-9c-ba-e5-88-b6/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="magicwt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="magicwt的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2012/07/15/java-e7-9a-84-e7-b1-bb-e5-8a-a0-e8-bd-bd-e6-9c-ba-e5-88-b6/" itemprop="url">Java的类加载机制</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2012-07-15T00:28:23+08:00">
                2012-07-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Java包含两种基本的类加载器，分别是启动类加载器和用户自定义类加载器。启动类加载器负责加载核心Java API的class文件，而用户自定义类加载器负责加载其他class文件，如用于安装或下载标准扩展class文件的标准扩展类加载器，在类路径中发现类库class文件的类路径类加载器。<br>Java中类加载机制采用委派双亲模式。启动类加载器、标准扩展类加载器、类路径类加载器等组成双亲-孩子关系链，如图所示。<br>在委派双亲模式下，当需要加载一个类时，类加载器首先将加载请求传递给它的双亲加载器，如此直至将加载请求向上传递给启动类加载器。若启动类加载器可以加载，则由其加载，若启动类加载器无法加载，则将加载请求传递给它的孩子加载器，如此直至将加载请求向下传递给可以加载的类加载器并实现加载。<br>例如：<br><a href="http://magicwt.com/wp-content/uploads/2015/11/22.png" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/22-300x194.png" alt="22"></a><br>当需要加载java.util.HashMap类时，首先将加载请求向上传递给启动类加载器，由于核心Java API包含java.util.HashMap，因此由启动类加载器完成加载即可。<br>而当需要加载com.wt.Test类时，首先仍将加载请求向上传递给启动类加载器，由于核心Java API不包含com.wt.Test，因此加载请求又向下传递给标准扩展类加载器，而由于属于标准扩展也不包含com.wt.Test，因此加载请求又向下传递给类路径类加载器。若com.wt.Test在类路径下，则由类路径类加载器完成加载，若com.wt.Test不在类路径下，则再由网络类加载器尝试从网络中实现加载。<br>采用委派双亲模式实现类加载有利于类安全。例如，对于java.util.HashMap，可以保证由启动类加载器加载，采用核心Java API中的类，而避免由用户自定义类加载器加载时，可能采用被恶意修改的同名类。<br>参考：《深入Java虚拟机》，Bill Venners 著</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2012/07/11/e5-85-ab-e7-9a-87-e5-90-8e-e9-97-ae-e9-a2-98-e4-b8-8e-e5-9b-9e-e6-ba-af-e7-ae-97-e6-b3-95/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="magicwt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="magicwt的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2012/07/11/e5-85-ab-e7-9a-87-e5-90-8e-e9-97-ae-e9-a2-98-e4-b8-8e-e5-9b-9e-e6-ba-af-e7-ae-97-e6-b3-95/" itemprop="url">八皇后问题与回溯算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2012-07-11T23:54:50+08:00">
                2012-07-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/数据结构与算法/" itemprop="url" rel="index">
                    <span itemprop="name">数据结构与算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>八皇后问题是在8*8的棋盘上放置8枚皇后，使得棋盘中每个纵向、横向、左上至右下斜向、右上至左下斜向均只有一枚皇后。八皇后的一个可行解如图所示：</p>
<table style="height: 500px;" border="1" width="500" cellspacing="1" cellpadding="1"><br><tbody><br><tr><br><td></td><br><td></td><br><td></td><br><td></td><br><td></td><br><td></td><br><td></td><br><td><a href="http://magicwt.com/wp-content/uploads/2015/11/234818981.jpg" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/234818981-300x281.jpg" alt="234818981"></a></td><br></tr><br><tr><br><td></td><br><td></td><br><td><a href="http://magicwt.com/wp-content/uploads/2015/11/234818981.jpg" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/234818981-300x281.jpg" alt="234818981"></a></td><br><td></td><br><td></td><br><td></td><br><td></td><br><td></td><br></tr><br><tr><br><td><a href="http://magicwt.com/wp-content/uploads/2015/11/234818981.jpg" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/234818981-300x281.jpg" alt="234818981"></a></td><br><td></td><br><td></td><br><td></td><br><td></td><br><td></td><br><td></td><br><td></td><br></tr><br><tr><br><td></td><br><td></td><br><td></td><br><td></td><br><td></td><br><td><a href="http://magicwt.com/wp-content/uploads/2015/11/234818981.jpg" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/234818981-300x281.jpg" alt="234818981"></a></td><br><td></td><br><td></td><br></tr><br><tr><br><td></td><br><td><a href="http://magicwt.com/wp-content/uploads/2015/11/234818981.jpg" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/234818981-300x281.jpg" alt="234818981"></a></td><br><td></td><br><td></td><br><td></td><br><td></td><br><td></td><br><td></td><br></tr><br><tr><br><td></td><br><td></td><br><td></td><br><td></td><br><td><a href="http://magicwt.com/wp-content/uploads/2015/11/234818981.jpg" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/234818981-300x281.jpg" alt="234818981"></a></td><br><td></td><br><td></td><br><td></td><br></tr><br><tr><br><td></td><br><td></td><br><td></td><br><td></td><br><td></td><br><td></td><br><td><a href="http://magicwt.com/wp-content/uploads/2015/11/234818981.jpg" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/234818981-300x281.jpg" alt="234818981"></a></td><br><td></td><br></tr><br><tr><br><td></td><br><td></td><br><td></td><br><td><a href="http://magicwt.com/wp-content/uploads/2015/11/234818981.jpg" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/234818981-300x281.jpg" alt="234818981"></a></td><br><td></td><br><td></td><br><td></td><br><td></td><br></tr><br></tbody><br></table>

<h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>对于八皇后的求解可采用回溯算法，从上至下依次在每一行放置皇后，进行搜索，若在某一行的任意一列放置皇后均不能满足要求，则不再向下搜索，而进行回溯，回溯至有其他列可放置皇后的一行，再向下搜索，直到搜索至最后一行，找到可行解，输出。<br>可以使用递归函数实现上述回溯算法，递归函数用于求解在某一行放置皇后，具体代码如下所示。</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;stdio.h&gt; </span><br><span class="line"></span><br><span class="line">int m[8][8] = &#123;0&#125;;//表示棋盘，初始为0，表示未放置皇后</span><br><span class="line">int num = 0;//解数目 </span><br><span class="line"></span><br><span class="line">//对于棋盘前row-1行已放置好皇后</span><br><span class="line">//检查在第row行、第column列放置一枚皇后是否可行</span><br><span class="line">bool check(int row,int column)</span><br><span class="line">&#123;</span><br><span class="line">    if(row==1) return true;</span><br><span class="line">    int i,j;</span><br><span class="line">    //纵向只能有一枚皇后</span><br><span class="line">    for(i=0;i&lt;=row-2;i++) </span><br><span class="line">    &#123;          </span><br><span class="line">        if(m[i][column-1]==1) return false;      </span><br><span class="line">    &#125;      </span><br><span class="line">    //左上至右下只能有一枚皇后      </span><br><span class="line">    i = row-2;      </span><br><span class="line">    j = i-(row-column);      </span><br><span class="line">    while(i&gt;=0&amp;&amp;j&gt;=0)</span><br><span class="line">    &#123;</span><br><span class="line">        if(m[i][j]==1) return false;</span><br><span class="line">        i--;</span><br><span class="line">        j--;</span><br><span class="line">    &#125;</span><br><span class="line">    //右上至左下只能有一枚皇后</span><br><span class="line">    i = row-2;</span><br><span class="line">    j = row+column-i-2;</span><br><span class="line">    while(i&gt;=0&amp;&amp;j&lt;=7)</span><br><span class="line">    &#123;</span><br><span class="line">        if(m[i][j]==1) return false;</span><br><span class="line">        i--;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">//当已放置8枚皇后，为可行解时，输出棋盘</span><br><span class="line">void output()</span><br><span class="line">&#123;</span><br><span class="line">    int i,j;</span><br><span class="line">    num++;</span><br><span class="line">    printf(&quot;answer %d:\n&quot;,num);</span><br><span class="line">    for(i=0;i&lt;8;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        for(j=0;j&lt;8;j++) printf(&quot;%d &quot;,m[i][j]);</span><br><span class="line">        printf(&quot;\n&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">//采用递归函数实现八皇后回溯算法</span><br><span class="line">//该函数求解当棋盘前row-1行已放置好皇后，在第row行放置皇后</span><br><span class="line">void solve(int row)</span><br><span class="line">&#123;</span><br><span class="line">    int j;</span><br><span class="line">    //考虑在第row行的各列放置皇后</span><br><span class="line">    for (j=0;j&lt;8;j++)</span><br><span class="line">    &#123;</span><br><span class="line">        //在其中一列放置皇后</span><br><span class="line">        m[row-1][j] = 1;</span><br><span class="line">        //检查在该列放置皇后是否可行</span><br><span class="line">        if (check(row,j+1)==true)</span><br><span class="line">        &#123;</span><br><span class="line">            //若该列可放置皇后，且该列为最后一列，则找到一可行解，输出</span><br><span class="line">            if(row==8) output();</span><br><span class="line">            //若该列可放置皇后，则向下一行，继续搜索、求解</span><br><span class="line">            else solve(row+1);</span><br><span class="line">        &#125;</span><br><span class="line">        //取出该列的皇后，进行回溯，在其他列放置皇后</span><br><span class="line">        m[row-1][j] = 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">//主函数</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    //求解八皇后问题</span><br><span class="line">    solve(1);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="http://magicwt.com/wp-content/uploads/2015/11/235355717.jpg" target="_blank" rel="noopener"><img src="http://magicwt.com/wp-content/uploads/2015/11/235355717.jpg" alt="235355717"></a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2012/06/23/java-e7-ac-94-e8-af-95-e9-a2-98/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="magicwt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="magicwt的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2012/06/23/java-e7-ac-94-e8-af-95-e9-a2-98/" itemprop="url">Java笔试题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2012-06-23T09:15:38+08:00">
                2012-06-23
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.OOP三特性<br>2.Java中如何实现多继承<br>3.Java对象生成过程<br>4.HashTable和HashMap的区别<br>5.接口的成员域具有什么属性<br>6.经常使用的三种设计模式，画出UML图，并写出Java代码<br>7.final、finally、finalize的区别<br>8.SOAP、WSDL、UDDI的作用<br>9.Java输入输出流的两种类型是什么<br>10.ArrayList如何实现自定义的排序<br>11.下列代码如何优化<br>public String test(String s1,String s2)<br>{<br>   String s = s1;<br>   s+=s2;<br>   return s;<br>}<br>(代码非原题，应是String到StringBuffer的优化)<br>12.写出一个JSP/Servlet，实现传入A和B，计算A*B，并显示结果</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2012/06/22/java-e4-b8-ad-e5-af-b9-e8-b1-a1-e7-9a-84-e5-88-9d-e5-a7-8b-e5-8c-96-e7-94-9f-e6-88-90-e8-bf-87-e7-a8-8b/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="magicwt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="magicwt的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2012/06/22/java-e4-b8-ad-e5-af-b9-e8-b1-a1-e7-9a-84-e5-88-9d-e5-a7-8b-e5-8c-96-e7-94-9f-e6-88-90-e8-bf-87-e7-a8-8b/" itemprop="url">Java中对象的初始化生成过程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2012-06-22T17:00:31+08:00">
                2012-06-22
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Java是面向对象的一种语言，在Java对象生成的过程，涉及子类和父类的加载、静态成员变量的初始化、子类和父类对象的初始化等过程，其具体过程通过下述代码来说明。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class A </span><br><span class="line">&#123; </span><br><span class="line">    public A(String s) </span><br><span class="line">    &#123; </span><br><span class="line">        System.out.println(s+&quot; Constructor A&quot;); </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">class B </span><br><span class="line">&#123; </span><br><span class="line">    public B(String s) </span><br><span class="line">    &#123; </span><br><span class="line">        System.out.println(s+ &quot; Constructor B&quot;); </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">class C </span><br><span class="line">&#123; </span><br><span class="line">    public C(String s) </span><br><span class="line">    &#123; </span><br><span class="line">        System.out.println(s+ &quot; Constructor C&quot;); </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">class Base </span><br><span class="line">&#123; </span><br><span class="line">    static A a1 = new A(&quot;a1: static&quot;); </span><br><span class="line">    A a2 = new A(&quot;a2: normal&quot;); </span><br><span class="line">    public Base() </span><br><span class="line">    &#123; </span><br><span class="line">        A a3 = new A(&quot;a3: normal&quot;); </span><br><span class="line">        System.out.println(&quot;Constructor Base&quot;); </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">class Derived extends Base </span><br><span class="line">&#123; </span><br><span class="line">    static B b1 = new B(&quot;b1: static&quot;); </span><br><span class="line">    B b2 = new B(&quot;b2: normal&quot;); </span><br><span class="line">    public Derived() </span><br><span class="line">    &#123; </span><br><span class="line">        B b3 = new B(&quot;b3: normal&quot;); </span><br><span class="line">        System.out.println(&quot;Constructor Derived&quot;); </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">public class Test &#123; </span><br><span class="line">    static C c1 = new C(&quot;c1: static&quot;); </span><br><span class="line">    C c2 = new C(&quot;c2: normal&quot;); </span><br><span class="line">    public static void main(String[] args) &#123; </span><br><span class="line">        C c3 = new C(&quot;c3: normal&quot;); </span><br><span class="line">        Derived derived = new Derived(); </span><br><span class="line">        System.out.println(&quot;end&quot;); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>该段代码的执行结果为：<br>[blockquote]c1: static Constructor C<br>c3: normal Constructor C<br>a1: static Constructor A<br>b1: static Constructor B<br>a2: normal Constructor A<br>a3: normal Constructor A<br>Constructor Base<br>b2: normal Constructor B<br>b3: normal Constructor B<br>Constructor Derived<br>end[/blockquote]<br>对上述执行结果进行分析，其生成过程为：<br>1）程序执行时，首先加载main函数所在的类Test，由于Test类包含静态成员变量c1，因此对该变量进行初始化，调用其构造函数。<br>2）由于c2是Test类的对象成员变量，且此处并没有初始化Test类对象，因此不需要初始化c2。<br>3）执行main函数。<br>4) main函数声明且初始化变量c3,因此调用其构造函数。<br>5）main函数声明且初始化变量derived,此过程可具体划分为以下步骤：<br>  a) 加载Derived类，由于其继承自Base类，因此还需加载Base类。<br>  b) 类加载完成后，由父类至子类，先后完成其中静态成员变量的初始化，因此先后调用a1,b1的构造函数。<br>  c) 静态成员变量初始化后，由父类至子类，先后完成类对象的初始化。在类对象的初始化过程中，首先初始化对象成员变量，再调用构造函数。因此，在Base类，首先调用a2的构造函数，再调用Base的构造函数，在构造函数中，调用a3的构造函数；而在Derived类，首先调用b2的构造函数，再调用Derived的构造函数，在构造函数中，调用b3的构造函数。<br>6） 综上，完成了整个对象的初始化生成过程和程序运行。</p>
<p>参考：《Java编程思想》</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2012/06/17/1000-e7-93-b6-e8-8d-af-e9-9c-80-e8-a6-81-e5-a4-9a-e5-b0-91-e5-8f-aa-e5-b0-8f-e7-99-bd-e9-bc-a0-e8-af-95-e9-aa-8c-ef-bc-88-e4-ba-8c-ef-bc-89/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="magicwt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="magicwt的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2012/06/17/1000-e7-93-b6-e8-8d-af-e9-9c-80-e8-a6-81-e5-a4-9a-e5-b0-91-e5-8f-aa-e5-b0-8f-e7-99-bd-e9-bc-a0-e8-af-95-e9-aa-8c-ef-bc-88-e4-ba-8c-ef-bc-89/" itemprop="url">1000瓶药,需要多少只小白鼠试验（二）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2012-06-17T11:53:33+08:00">
                2012-06-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/数据结构与算法/" itemprop="url" rel="index">
                    <span itemprop="name">数据结构与算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>1000瓶水，其中有一瓶有毒，小白鼠喝后24小时会死忙。请问最少多少只老鼠，可以在24小时测出哪瓶有毒。<br>答案：最少需要[log<sub>2</sub>1000]=10只小白鼠<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2012/06/17/1000-e7-93-b6-e8-8d-af-e9-9c-80-e8-a6-81-e5-a4-9a-e5-b0-91-e5-8f-aa-e5-b0-8f-e7-99-bd-e9-bc-a0-e8-af-95-e9-aa-8c-ef-bc-88-e4-ba-8c-ef-bc-89/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </p></div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2012/06/17/1000-e7-93-b6-e8-8d-af-e6-9c-891-e7-93-b6-e6-9c-89-e6-af-92-ef-bc-8c-e9-9c-80-e8-a6-81-e5-a4-9a-e5-b0-91-e5-8f-aa-e5-b0-8f-e7-99-bd-e9-bc-a0-e6-89-8d-e8-83-bd-e8-af-95-e9-aa-8c-e6-89-be-e5-87-ba/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="magicwt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="magicwt的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2012/06/17/1000-e7-93-b6-e8-8d-af-e6-9c-891-e7-93-b6-e6-9c-89-e6-af-92-ef-bc-8c-e9-9c-80-e8-a6-81-e5-a4-9a-e5-b0-91-e5-8f-aa-e5-b0-8f-e7-99-bd-e9-bc-a0-e6-89-8d-e8-83-bd-e8-af-95-e9-aa-8c-e6-89-be-e5-87-ba/" itemprop="url">1000瓶药有1瓶有毒，需要多少只小白鼠才能试验找出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2012-06-17T11:47:17+08:00">
                2012-06-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/数据结构与算法/" itemprop="url" rel="index">
                    <span itemprop="name">数据结构与算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>1000瓶药有1瓶有毒，如果小白鼠服用有毒的药，则24小时后死亡。现在需设计一种策略，使用尽可能少的小白鼠，在24小时内找出有毒的药。<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2012/06/17/1000-e7-93-b6-e8-8d-af-e6-9c-891-e7-93-b6-e6-9c-89-e6-af-92-ef-bc-8c-e9-9c-80-e8-a6-81-e5-a4-9a-e5-b0-91-e5-8f-aa-e5-b0-8f-e7-99-bd-e9-bc-a0-e6-89-8d-e8-83-bd-e8-af-95-e9-aa-8c-e6-89-be-e5-87-ba/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </p></div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2012/06/12/e4-b8-80-e9-81-93-e6-9c-89-e5-85-b3-e9-a3-9e-e6-9c-ba-e7-bb-95-e8-b5-a4-e9-81-93-e9-a3-9e-e8-a1-8c-e7-9a-84-e9-9d-a2-e8-af-95-e9-a2-98/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="magicwt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="magicwt的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2012/06/12/e4-b8-80-e9-81-93-e6-9c-89-e5-85-b3-e9-a3-9e-e6-9c-ba-e7-bb-95-e8-b5-a4-e9-81-93-e9-a3-9e-e8-a1-8c-e7-9a-84-e9-9d-a2-e8-af-95-e9-a2-98/" itemprop="url">一道有关飞机绕赤道飞行的面试题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2012-06-12T22:36:40+08:00">
                2012-06-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/数据结构与算法/" itemprop="url" rel="index">
                    <span itemprop="name">数据结构与算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>假设赤道上有且仅有一座机场，并有若干架飞机，每架飞机的油量可保证飞半个赤道的距离。现在要求一架飞机从机场起飞，绕赤道一圈后，返回机场。在该飞机飞行过程中，不能中途降落、返回。其他飞机可返回，也可在空中给飞机加油，但不能降落，且必须返回机场。求飞机飞行和加油策略。<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2012/06/12/e4-b8-80-e9-81-93-e6-9c-89-e5-85-b3-e9-a3-9e-e6-9c-ba-e7-bb-95-e8-b5-a4-e9-81-93-e9-a3-9e-e8-a1-8c-e7-9a-84-e9-9d-a2-e8-af-95-e9-a2-98/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </p></div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">magicwt</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">90</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">49</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/magicwt" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:wang-t04@mails.tsinghua.edu.cn" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">magicwt</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
